<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=GB2312">

  <meta http-equiv="Content-Style-Type" content="text/css">


  <title>数组</title>
  <link href="style.css" type="text/css" rel="stylesheet">

</head>


<body>


<h1>数组</h1>

<ul>

  <li><a href="#generate">数组的生成</a></li>

  <li><a href="#subst">数组单元的重赋值</a></li>

  <li><a href="#manage">数组的操作</a></li>

  <li><a href="#loop">数组的循环</a></li>

</ul>


<p>想一起处理多个对象就要使用<strong>数组</strong>。</p>



<h2><a name="generate">数组的生成</a></h2>

<p>在 [] 符号中间排列多个单元就生成了一个数组。如下例所示。</p>

<pre>a = ["阿莱库斯","布莱恩","卡罗鲁"]<br></pre>

<p>上述程序建立了一个包含 "阿莱库斯"、"布莱恩"、"卡罗鲁" 这三个字符串单元的数组，
并把这个数组代入变量 a 为其赋值。</p>

<p>要取出数组中对象，如下例所示。</p>

<pre>a = ["阿莱库斯","布莱恩","卡罗鲁"]<br><br>p a[0]          # =&gt; "阿莱库斯"<br>p a[1]          # =&gt; "布莱恩"<br>p a[2]          # =&gt; "卡罗鲁"<br></pre>

<p>上述中，a[0] 和 a[1] 等各个单元，能和其它变量那样单独使用。
这里 0、1、2 那样的数字被称为数组的<strong>附加码</strong>。
附加码不是从 1 开始而是从 0 开始的，这点一定要注意。
从 0 开始，单元从左至右依次为 0、1、2 &hellip;&hellip;。</p>

<p>数组中除了字符串外还可以包含其它任意的对象。而且，
使用 p 命令也可以不指定附加码，那样就会显示数组的全部单元。</p>

<pre>a = [2000,"阿莱库斯",true,1..50]<br><br>p a             # =&gt; [2000,"阿莱库斯",true,1..50]<br></pre>



<h2><a name="subst">数组单元的重赋值</a></h2>

<p>数组的各单元的使用和普通的变量一样，也能进行变量的重赋值。</p>

<pre>a = [10, 20, 30]<br>a[0] = 100<br><br>p a             # =&gt; [100, 20, 30]<br></pre>

<p>该示例中，首先是建立了一个由 10、20、30 这三个数字单元组成的数组，
然后向第一个单元里重赋值代入 100。这时 a[0] 原先的数值 10 就被代入的 100 所代替，
显示的结果就更改了。这个处理和普通变量的重赋值是一样的。</p>

<p>指定超过最初数组附加码范围的单元并为之赋值，会自动扩大数组添加新的单元。</p>

<pre>a = [10, 20, 30]<br>a[3] = 40<br><br>p a             # =&gt; [10, 20, 30, 40]<br></pre>

<p>建立数组时只有 3 个单元，现在为在其范围外的 a[3] 赋值，
就会自动添加第 4 个单元扩大数组。C 语言等其它语言是不充许这样赋值的，
而 Ruby 这种灵活的语言就可以放心添加。</p>

<p>如果跳过范围的话会如何呢？</p>

<pre>a = [10, 20, 30]<br>a[5] = 60<br><br>p a             # =&gt; [10, 20, 30, nil, nil, 60]<br></pre>

<p>中间就会出现 <strong>nil</strong> 值。
这个与 true 和 false 等一样是<strong>常量</strong>的一种，
意思是「什么都没有」。和 true 表示「真」，false 表示「伪」一样，nil 表示「无」。</p>



<h2><a name="manage">数组的操作</a></h2>

<p>数组是 <a href="../rgss/sc_array.html">Array</a> 类的实例。
可以调用这个类定义的方法对数据进行操作。</p>

<p>比如，想知道数组的单元数量的话就可以使用 size 方法。
和 String 类的 size 方法返回字符串字节数相似，Array 类的 size 方法
是返回数组的单元数。数组为空时就返回 0。</p>

<pre>a = ["阿莱库斯","布莱恩","卡罗鲁"]<br><br>p a.size        # =&gt; 3<br></pre>

<p>想知道数组中是否含有特定的值的话，就要使用到 include? 方法。</p>

<pre>a = ["阿莱库斯","布莱恩","卡罗鲁"]<br><br>p a.include?("布莱恩")            # =&gt; true<br>p a.include?("迪吉")        # =&gt; false<br></pre>

<p>第三行中使用 include? 方法，是确认数组中是否含有字符串 "布莱恩"。
上例在第一行生成数组时设定有字符串 "布莱恩"，所以输出结果为 true（真）。
同样第四行是确认数组中是否含有字符串 "迪吉"。
然而这个字符串在数组中是不存在的，所以输出结果就为 false（伪）。</p>



<h2><a name="loop">数组的循环</a></h2>

<p>使用 for 循环，即使没有设定对象的附加码也能指定数组单元。</p>

<pre>a = ["阿莱库斯","布莱恩","卡罗鲁"]<br><br>for s in a<br>  p s<br>end<br></pre>

<p>这里使用变量 s，循环代入数组 a 中所包含的单元。
循环的范围是数组 a 包含的所有单元，
按 "阿莱库斯"、"布莱恩"、"卡罗鲁" 的顺序在对话框中显示，最后循环结束。</p>



<h6></h6>
</body>
</html>
