<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=GB2312">

  <meta http-equiv="Content-Style-Type" content="text/css">


  <title>字符串</title>
  <link href="style.css" type="text/css" rel="stylesheet">

</head>


<body>


<h1>字符串</h1>

<ul>

  <li><a href="#print">print</a></li>

  <li><a href="#subst">为变量赋值</a></li>

  <li><a href="#backslash">句柄</a></li>

  <li><a href="#unfold">内嵌表达式</a></li>

</ul>


<p>一般来说，由文字连接起来的数据就称为<strong>字符串</strong>。</p>



<h2><a name="print">print</a></h2>

<p>双引号 "" 或单引号 '' 中间的部分，就作为字符串数据使用。</p>

<pre>p "TKOOL"                    # =&gt; "TKOOL"<br>p 'TKOOL'                    # =&gt; "TKOOL"<br></pre>

<p>p 命令会导致双引号和字符串一起输出，所以使用 print 命令代替。</p>

<pre>print "TKOOL"                # =&gt; TKOOL<br></pre>

<p>这次双引号就没有了。p 是按照人们容易理解的形式来显示的命令，
所以它会加上双引号来强调字符串。print 和 p 相似，但它只显示字符串本身。</p>



<h2><a name="subst">为变量赋值</a></h2>

<p>和数字一样，字符串也能代入变量为该变量赋值。</p>

<pre>a = "TKOOL"<br>print a                         # =&gt; TKOOL<br></pre>

<p>字符串也能作加法，字符串加上字符串，就会得到一个连接起来的字符串为答案。</p>

<pre>a = "我的 "<br>b = "TKOOL"<br>print a + b                     # =&gt; 我的 TKOOL<br></pre>

<p>还可以作乘法，字符串乘以一个整数，就会得到该整数次重复的字符串为答案。</p>

<pre>a = "TKOOL"<br>print a * 2                     # =&gt; TKOOLTKOOL<br></pre>



<h2><a name="backslash">句柄</a></h2>

<p>字符串中的 \ 符号，是作为一段连续文字中换行等操作使用的特殊文字。
比如 \n 是表示换行。</p>

<p>句柄有 \t（Tab）和 \s（空格）等多种代码，
另外 \n 表示换行，重叠起来的 \\ 表示 \ 文字本身，这两个一定要记住。</p>

<pre>a = "TKOOL"<br>b = "\\10,290"<br>print a + "\n" + b              # =&gt; TKOOL<br>                                #    \10,290<br></pre>

<p>单引号 '' 中间的字符串，除 \\（\ 符号本身）和 \'（单引号）外不能使用
任何的句柄。这在打算原样显示文字本身的情况下使用会十分方便。</p>

<pre>print 'TKOOL\n'              # =&gt; TKOOL\n<br></pre>

<p>\ 符号本身即为计算器内部的句柄。以后实际字符串操作中应注意正确使用。</p>



<h2><a name="unfold">内嵌表达式</a></h2>

<p>在字符串里面，可以用 #{变量名} 的形式把变量的内容嵌入在字符串当中。</p>

<pre>game = "RPG"<br>print "#{game} TKOOL"         # =&gt; RPGTKOOL<br></pre>

<p>上述示例里，第一行是为 game 变量赋值代入字符串「RPG」。第二行里面，
其中 #{game} 是表示直接嵌入变量 game 的值字符串「RPG」，
和后面的「 TKOOL」组合在一起，从而输出一个新的字符串。
RPGVX 的事件指令「显示文章」里，在文章中使用 \V[n] 和 \N[n] 句柄可以
把变量的值和角色的名称作为信息嵌入文字中，这个功能好像和那个十分相似。</p>

<p>这个功能，让我们举例来说明在预置脚本中应如何使用。</p>

<pre>print("文件 #{filename} 没找到。")<br></pre>

<p>print 的显示内容应附加上括号 ()，如果其优先级不易混淆的话可
以省略（本章 print 的使用示例介绍中全部省略了括号）。预置脚本中
基本上都统一使用有括号，所以在这儿也加上一个。</p>

<p>这个是当然，</p>

<pre>print("文件 " + filename + " 没找到。")<br></pre>

<p>像这样写也可以，使用内嵌表达式的方法会使读取程序变得很容易。</p>

<p>另外内嵌表达式和句柄一样，在单引号 '' 中间的字符串里使用也会无效。</p>



<h6></h6>
</body>
</html>
