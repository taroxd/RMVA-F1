<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en">
<head>
  <title>条件分歧</title>

  <meta http-equiv="Content-Type" content="text/html; charset=GB2312">

  <meta http-equiv="Content-Style-Type" content="text/css">
  <link href="style.css" type="text/css" rel="stylesheet">
  <meta content="MSHTML 6.00.2900.3199" name="GENERATOR">
</head>

<body>

<h1>条件分歧</h1>

<ul>

  <li><a href="#compare">比较运算符</a> 
  </li>
  <li><a href="#boolean">真伪值</a> 
  </li>
  <li><a href="#logical">逻辑运算符</a> 
  </li>
  <li><a href="#if">if ～ elsif ～ else ～ end</a> 
  </li>
  <li><a href="#unless">unless ～ end</a> 
  </li>
  <li><a href="#case">case ～ end</a> 
  </li>
  <li><a href="#if2">条件运算符</a>
  </li>
  <li><a href="#modifier">New 修饰子</a> </li>
</ul>

<p>满足特定的条件与否，之后的动作会根据其不同而改变就叫作<strong>条件分歧</strong>。</p>

<h2><a name="compare">比较运算符</a></h2>

<p>在具体地学习处理条件分歧的方法之前，要先记住条件构成中使用的运算符。</p>

<p>下面 6 个运算符称为<strong>比较运算符</strong>。使用这些运算符，和给予的条件（数字和字符串）相比较，然后返回结果。</p>

<p>
<table border="1" cellpadding="2" cellspacing="0">

  <tbody>

  <tr>

    <td width="40">==</td>

    <td>相等于</td>
    </tr>

  <tr>

    <td width="40">!=</td>

    <td>不相等于</td>
    </tr>

  <tr>

    <td width="40">&lt;</td>

    <td>小于</td>
    </tr>

  <tr>

    <td width="40">&gt;</td>

    <td>大于</td>
    </tr>

  <tr>

    <td width="40">&lt;=</td>

    <td>小于等于</td>

  </tr>
    <tr>

    <td width="40">&gt;=</td>

    <td>大于等于</td>
    </tr>
  </tbody>
</table>
</p>

<p>这里一定要注意的是，判断相等的运算符不是 = 而是 ==。像已学习过的那样，所谓 = 符号表示的不是比较而是代入。请注意不要弄混淆了。</p>

<h2><a name="boolean">真伪值</a></h2>

<p>比较运算的运算结果就称为<strong>真伪值</strong>。有真（正确）、伪（错误）两种情况。</p>

<p>比较后是正确的话为 <strong>true</strong> 值，是错误的话就为 <strong>false</strong> 值。请试试看吧。</p>
<pre>p ("早安" == "早安")                # =&gt; true<br>p ("早安" == "你好")                # =&gt; false<br>p (3 + 1 == 3 + 5)                  # =&gt; false<br>p (3 + 1 == 2 + 2)                  # =&gt; true<br></pre>

<h2><a name="logical">逻辑运算符</a></h2>

<p>下面 6 个运算符称为<strong>逻辑运算符</strong>。</p>

<p>
<table border="1" cellpadding="2" cellspacing="0">

  <tbody>

  <tr>

    <td width="40">and<br>
&amp;&amp;</td>

    <td>「～，与，～」的意思</td>
    </tr>

  <tr>

    <td width="40">or<br>
||</td>

    <td>「～，或，～」的意思</td>
    </tr>

  <tr>

    <td width="40">not<br>
!</td>

    <td>「非～」的意思</td>
    </tr>
  </tbody>
</table>
</p>

<p>英文单词运算符和符号运算符，无论用哪个都是一样的。在预置脚本中运用的主要是英文单词。使用这些逻辑运算符就能指定更加复杂的条件。</p>
<pre>p (100 &gt; 77 and 1 + 1 == 2)         # =&gt; true<br>p (100 &gt; 77 &amp;&amp; 1 + 1 == 2)          # =&gt; true<br></pre>

<p>上述示例中，第一行和第二行表示的都是一个内容「100 大于 77 同时 1 + 1 等于 2」。不用说 100 是比 77 大的整数，1 + 1 答案也为 
2，两个运算都成立。所以输出结果就为 true（真，正确）。</p>

<p>那么，看下一个算式吧。</p>
<pre>p (1 + 1 == 3 or 2 + 2 == 3)        # =&gt; false<br>p (1 + 1 == 3 || 2 + 2 == 3)        # =&gt; false<br></pre>

<p>上述示例中，第一行和第二行表示的也都是一个内容「1 + 1 等于 3 或 2 + 2 等于 3」。很显然，1 + 1 不等于 3，2 + 2 也不等于 
3，这样两个运算都不成立。比较运算符 or（||）是只要有一个运算成立就为 ture（真，正确），而这里两个运算全都不成立，所以输出结果就为 
false（伪，错误）。</p>

<p>另外，not（!）和上面的例子稍微有些不同， not（!）表示的内容为后面的条件不成立。可以理解为颠倒 true 或 false 的运算符。</p>
<pre>p (not true)                        # =&gt; false<br>p (! true)                          # =&gt; false<br></pre>

<p>上述示例中的内容是「非 true」的意思，所以输出结果为 false。</p>

<h2><a name="if">if ～ elsif ～ else ～ end</a></h2>

<p>if ～ end 语句是条件分歧的句法。这个和英文的 if（如果～就）意思相同，表示「如果 if 
后面的条件成立的话，就运行下面的处理」的意思。下面示例中的 3～5行就是条件分歧。</p>
<pre>a = 20              # 为变量 a 赋值代入 20。<br><br>if a &gt;= 10          # 如果 a 为 10 以上的话，<br>  print "big"       #   显示 big。<br>end                 # 分歧结束。<br></pre>

<p>在条件不满足时也要进行处理的情况下就使用 else，条件不满足但指定另一个条件的情况下就使用 elsif。</p>
<pre>a = 7               # 为变量 a 赋值代入 7。<br><br>if a &gt;= 10          # 如果 a 为 10 以上的话，<br>  print "big"       #   显示 big。<br>elsif a &gt;= 5        # 除此之外，如果 a 为 5 以上的话，<br>  print "medium"    #   显示 medium。<br>else                # 其他，<br>  print "small"     #   显示 small。<br>end                 # 分歧结束。<br></pre>

<h2><a name="unless">unless ～ end</a></h2>

<p>与 if 相反，在条件<strong>不</strong>满足时才进行某些处理的情况下使用 unless 语句。</p>
<pre>a = 7               # 为变量 a 赋值代入 7。<br><br>unless a &gt;= 10      # 如果 a 不为 10 以上的话，<br>  print "small"     #   显示 small。<br>end                 # 分歧结束。<br></pre>

<p>&nbsp;</p>

<p>虽然上边的例子不是很好，但是用unless的时候也是会有的。</p>

<h2><a name="case">case ～ end</a></h2>

<p>在条件为特定的变量值进行分歧的情况下使用 case 语句会更方便。</p>
<pre>a = 0               # 为变量 a 赋值代入 0。<br><br>case a              # 分歧开始。<br>when 0              #  当 a 为 0 时，<br>  print "石头"        #   显示 石头。<br>when 1              #  当 a 为 1 时，<br>  print "剪子"        #   显示 剪子。<br>when 2              #  当 a 为 2 时，<br>  print "布"        #   显示 布。<br>end                 # 分歧结束。<br></pre>

<p>把第一行 a = 后面的 0 改为 1 和 2，然后再来看看分歧的结果吧。当 a 代入 1 时会显示「剪子」，代入 2 时会显示「布」。</p>

<h2><a name="if2">条件运算符</a></h2>

<p>使用符号 ? 和 : 也是运算符形式的条件分歧语句。</p>
<pre>a = 3<br><br>p (a &gt;= 10 ? "big" : "small")   # =&gt; "small"<br></pre>

<p>这个示例的意思是，变量 a 的值在 10 以上的话就显示 "big"， 9 以下的话就显示 "small"。条件运算符的语法是「条件 ? 真时的值 : 
伪时的值」。上述的条件是 a &gt;= 10，真时的值为 "big"，伪时的值为 "small"，会根据条件是否满足来决定使用 ? 或 : 的值。</p>

<p>当然使用 if 语句也能完成同样的事情。</p>
<pre>a = 3<br><br>if a &gt;= 10<br>  p "big"<br>else<br>  p "small"<br>end<br></pre>

<p>使用 if 语句的语法会像上面写的那样，但是使用条件运算符语句会更加简洁。该语句在当前的脚本中也使用得很多，所以最好事先记住。</p>

<h2><a name="modifier">修饰子</a></h2>

<p>如同下面所示，想要执行的命令后面可以写if和unless等。</p>
<pre>print "big" if a &gt;= 10      # a 要是大于等于 10 的话 就显示big <br></pre>

<p>背很多语法的确是件不容易的事情，做相同的事情如果使用简单的语法就是不错的选择。</p>

<h6></h6>
</body>
</html>
