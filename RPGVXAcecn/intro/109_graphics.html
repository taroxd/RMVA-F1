<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GB2312">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>显示图片</title>
<link href="style.css" type="text/css" rel="stylesheet">
</head>
<body>

<h1>显示图片</h1>
<ul>
<li><a href="#graphics">Graphics 模块</a></li>
<li><a href="#sprite">精灵和位图</a></li>
<li><a href="#property">属性</a></li>
<li><a href="#input">Input モジュ`ル</a></li>
</ul>

<p>在学习完对像后让我们稍稍轻松一下，来使用 RGSS 的游戏程序显示图片吧。</p>


<h2><a name="graphics">Graphics 模块</a></h2>
<p>在 RGSS 游戏程序中最重要的应当是 <a href="../rgss/gm_graphics.html">Graphics</a> 模块。
它是用来处理游戏中所有图片的方法集合，在游戏的画面中显示图片，
就要使用到该模块的功能。</p>
<p>所谓<strong>模块</strong>，可以考虑成收集了相同范围方法的如容器那样的东西。
和模拟较相似，然而却不能生成模块的实例，也没有那个必要。</p>
<p>那么首先，请按下面那样输入。</p>
<pre>
loop do
  Graphics.update
end
</pre>
<p>这个是用 loop do ～ end 语句作成的无限循环。
这个处理是无限反复运行 Graphics.update 操作的意思。中间的那行，
是调用 Graphics 模块的 update 方法。因为这个是和调用对像方法相同的形式，
所以会比较容易理解吧。</p>
<p>Graphics.update 完成的是更新游戏画面，然后前进 1 帧这样的任务。 这个时候，会向画面中重新同时显示出图片。这个形式是 RGSS 游戏运行的基础。 
  而运行 RPG 大规模游戏的复杂的脚本，也不过是在这个基本形式上添加各种各样的处理而已。</p>
<p>还有，运行上面的示例后什么也没有显示。这只是个反复显示乌黑画面的处理而已。
下面我们就来学习实际显示图片的方法吧。</p>


<h2><a name="sprite">精灵和位图</a></h2>
<p>向刚才的脚本中加入 2 行，如下所示。如果画面左上角显示出骷髅兵的图片就表示成功了。</p>
<pre>
Skeleton = Sprite.new
Skeleton.bitmap = Bitmap.new("Graphics/Battlers/Skeleton")

loop do
  Graphics.update
end
</pre>
<p>这里出现了 <a href="../rgss/gc_sprite.html">Sprite</a> 
和 <a href="../rgss/gc_bitmap.html">Bitmap</a> 两个新类。Sprite 是在
游戏画面上显示某些图片的基本概念即<strong>精灵</strong>的类，Bitmap 是
精灵传输元<strong>位图</strong>本身内容的类。</p>
<p>第一行，是新生成一个 Sprite 类的实例，并把那个实例代入变量 Skeleton。
生成整数和字符串的实例比如 3 或 "Ruby" 等可以直接写入，
然而生成精灵这样的实例时就必需以 Sprite.new 这样的方式生成。</p>
<p>第二行，是读取 RGSS-RTP 中所含的图片文件 ("Graphics/Battlers/Skeleton") 并
作为 Bitmap 类的一个新实例。而且，对 Skeleton 对象的 bitmap 属性（后述）进行设定。
也就是设定这个位图为精灵传输元的意思。</p>
<p>指定 Bitmap.new 参数的路径名，分隔符是使用 / 而不是 \ 这点要特别注意。
我们在字符串「句柄」这项中学习了 \ 在字符串中具有特殊的意义，
而在这里使用 / 才是正确的。</p>


<h2><a name="property">属性</a></h2>
<p><a href="../rgss/gc_sprite.html">Sprite</a> 类中像 bitmap 那样的特性称为<strong>属性</strong>。
实际上这并不是 Ruby 语言的概念，而是 RGSS 的独特用语。
在游戏程序中使用赋值运算符在多个方面对其内容特性进行设定，
这些就称为属性。例如，更改表示精灵坐标的 x、y 属性数值就是这样。</p>
<pre>
Skeleton = Sprite.new
Skeleton.bitmap = Bitmap.new("Graphics/Battlers/Skeleton")
Skeleton.x = 272
Skeleton.y = 208

loop do
  Graphics.update
end
</pre>
<p>上面第三行，是把指定精灵 X 坐标的属性 x 设定为值 272。
同样的第四行，是把指定精灵 Y 坐标的属性 y 设定为值 208。
这样运行的话，精灵就会显示在画面中央位置附近。</p>
<p>让我们进一步加工一下。</p>
<pre>
Skeleton = Sprite.new
Skeleton.bitmap = Bitmap.new("Graphics/Battlers/Skeleton")
Skeleton.ox = Skeleton.bitmap.width / 2
Skeleton.oy = Skeleton.bitmap.height / 2
Skeleton.x = 272
Skeleton.y = 208

loop do
  Graphics.update
end
</pre>
<p>这样就变成完全显示在画面正中央了。这个 ox、oy 属性的设定，
更改了精灵的<strong>原点</strong>。这和 RPGXP 的事件指
令「显示图片」中选择「左上」、「中心」是一样的概念。
默认状态下，原点在图片的左上。赋值运算符的右侧调用的 width、height 是
<a href="../rgss/gc_bitmap.html">Bitmap</a> 类的方法，作用是分别取得图片的宽和高。
这里使用了其值的 1/2，也就是把图片的中心点设定为原点。</p>
<p>现在，可以去看一看 <a href="../rgss/gc_sprite.html">Sprite</a> 类和
<a href="../rgss/gc_bitmap.html">Bitmap</a> 类的说明了，是不是觉得写得很复杂不知如何理解？
使用这些有趣的属性和方法，自己动手试一试吧。这才是学习 RGSS 的快捷方式。</p>

<h2><a name="input">Input モジュ`ル</a></h2>
<p>入力についてもgに解hしておきましょう。RGSS
には、プレイヤ`のボタン入力情螭蛉〉盲工毪郡幛
<a href="../rgss/gm_input.html">Input</a> モジュ`ルが
用意されています。</p>
<p>loop do ... end の中を次のように涓してください。</p>
<pre>
loop do
  Graphics.update
  Input.update
  if Input.press?(:RIGHT)
    skeleton.x += 1
  end
  if Input.press?(:LEFT)
    skeleton.x -= 1
  end
end
</pre>
<p>これは、方向ボタンの左右入力に辘袱匹攻抓楗ぅ趣蛞婴工毪趣い
スクリプトです。g行してみましょう。</p>
<p>Input.update は、入力情螭蚋新するメソッドです。メソッドが
呼び出された瞬gに、RGSS でQう全てのボタンが押されているか否かを
判定し、モジュ`ル内部の情螭蚋新します。</p>
<p>Input.press? は、引数として指定したボタンが押されていれば
true、押されていなければ false を返すメソッドです。ボタンの名前を
指定するときには<strong>シンボル</strong>を使用します。ここでは、
コロン (&quot;:&quot;) にボタン名をAけてくとえておいて
ください。たとえば方向ボタンの右であれば :RIGHT という表で指定
できます。そのほかのボタン名については
<a href="../rgss/gm_input.html">Input</a>
モジュ`ルのリファレンスを参照してください。</p>
<p>余裕があれば、ここで解hしなかったメソッドやプロパティを使用
したり、上下の入力も受け付けるようにするなど、いろいろとgYして
みると良いでしょう。自分で考えてスクリプトをいてみることが
RGSS 得への早道となります。</p>

<h6></h6>
</body>
</html>
