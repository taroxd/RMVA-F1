<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=GB2312">

  <meta http-equiv="Content-Style-Type" content="text/css">


  <title>活动块的管理</title>
  <link href="style.css" type="text/css" rel="stylesheet">

</head>


<body>


<h1>精灵的管理</h1>

<ul>

  <li><a href="#sprite">精灵</a></li>

  <li><a href="#spriteset">精灵组</a></li>

  <li><a href="#map">Spriteset_Map 地图精灵组</a></li>

  <li><a href="#battle">Spriteset_Battle 战斗精灵组</a></li>

</ul>


<p>游戏对像本身，没有任何在画面中显示自身的方法。
所以建立反映游戏对像内容，在画面中显示图片的类就很必要。</p>



<h2><a name="sprite">精灵</a></h2>

<p>在脚本编辑器左侧的组列表中，Game_Xxxx 的部分已经介绍过了。
现在让我们来看看 Sprite_Xxxx 名称的组吧。
这些组的名称与其定义的类的名称相对应，如下所示。</p>

<table border="1" cellpadding="2" cellspacing="0">

  <tbody>
    <tr>

 <th>类</th>

 <th>内容</th>

 <th>超类</th>

    </tr>
    <tr>

 <td>Sprite_Base</td>

 <td>动画效果显示用</td>

 <td><a href="../rgss/gc_rpg_sprite.html">Sprite</a></td>

    </tr>
    <tr>

 <td>Sprite_Character</td>

 <td>角色显示用</td>

 <td>Sprite_Base</td>

    </tr>
    <tr>

 <td>Sprite_Battler</td>

 <td>战斗显示用</td>

 <td>Sprite_Base</td>

    </tr>
    <tr>

 <td>Sprite_Picture</td>

 <td>显示图片用</td>

 <td><a href="../rgss/gc_sprite.html">Sprite</a></td>

    </tr>
    <tr>

 <td>Sprite_Timer</td>

 <td>显示定时器用</td>

 <td><a href="../rgss/gc_sprite.html">Sprite</a></td>

    </tr>
  </tbody>
</table>

<p>这些类，是继承于基础篇中学习过的 <a href="../rgss/gc_sprite.html">Sprite</a> 类，
或其高功能版 <a href="../rgss/gc_rpg_sprite.html">RPG::Sprite</a> 类，
具有在实际中显示各图片精灵的功能。</p>

<p>名精灵类的实例实时监视对应的游戏对象，其状态发生变化的话，
会自动的在画面中反映。比如 Sprite_Character 是角色显示用的精灵，
会监视 Game_Character 的被继承类的实例。
人物在地图上稍微移动一下，这个动作会立即在精灵中反映。
实际上这个「反映」的处理是调用 update 名称的方法时进行的。
调用该方法在下面的<strong>精灵组</strong>中也有介绍。</p>



<h2><a name="spriteset">精灵组</a></h2>

<p>在精灵组中有下面两个类。</p>

<table border="1" cellpadding="2" cellspacing="0">

  <tbody>
    <tr>

 <th>类</th>

 <th>内容</th>

    </tr>
    <tr>

      <td>Spriteset_Weather</td>

 <td>天气效果</td>

    </tr>
    <tr>

 <td>Spriteset_Map</td>

 <td>地图画面显示用</td>

    </tr>
    <tr>

 <td>Spriteset_Battle</td>

 <td>战斗画面显示用</td>

    </tr>
  </tbody>
</table>

<p>在这些类里面，Spriteset_Weather类仅仅在Spriteset_Map的内部使用。</p>

Spriteset_Map类和Spriteset_Battle类各自统一管理构成各个画面的几乎全部图片（窗口和光标除外）。
当然包括前面介绍的精灵类，地图本身和天气效果等，以及一切能收集到的图片对象，
调用 update 名称的方法，就会在游戏环境中更新全部的图片。
<p></p>

<p>调用精灵组的 update 方法，将在本篇后面一章<strong>场景类</strong>中说明。</p>

<p>这些类中，<strong>显示端口</strong>和精灵 <strong>Z 坐标</strong>的概念
承担了重要的任务。这些关系到显示各图片的优先级。
请同时参照 <a href="../rgss/gc_viewport.html">显示端口</a> 类的说明。</p>



<h2><a name="map">Spriteset_Map 地图精灵组</a></h2>

<p>地图画面精灵组的构成如下所示（数字是 Z 坐标）。</p>

<table border="1" cellpadding="2" cellspacing="0">

  <tbody>
    <tr>

 <td rowspan="3">@viewport2 (50)</td>

 <td>@timer_sprite (200)</td>

 <td>定时器</td>

    </tr>
    <tr>

 <td>@picture_sprites (101..120)</td>

 <td>图片</td>

    </tr>
    <tr>

 <td>@weather (0)</td>

 <td>天气</td>

    </tr>
    <tr>

 <td rowspan="4">@viewport1 (0)</td>

 <td>@shadow_sprite (180)</td>

 <td>飞行器的影子</td>

    </tr>
    <tr>

 <td>@character_sprites (0..200)</td>

 <td>角色</td>

    </tr>
    <tr>

 <td>@tilemap (0..200)</td>

 <td>地图</td>

    </tr>
    <tr>

 <td>@parallax (-100)</td>

 <td>远景</td>

    </tr>
  </tbody>
</table>



<h2><a name="battle">Spriteset_Battle 战斗精灵组</a></h2>

<p>战斗画面精灵组的构成如下所示（数字是 Z 坐标）。</p>

<table border="1" cellpadding="2" cellspacing="0">

  <tbody>
    <tr>

 <td rowspan="2">@viewport2 (50)</td>

 <td>@timer_sprite (200)</td>

 <td>定时器</td>

    </tr>
    <tr>

 <td>@picture_sprites (101..120)</td>

 <td>图片</td>

    </tr>
    <tr>

 <td rowspan="3">@viewport1 (0)</td>

 <td>@enemy_sprites (100)</td>

 <td>敌人</td>

    </tr>
    <tr>

 <td>@battlefloor_sprite (1)</td>

 <td>战斗地面</td>

    </tr>
    <tr>

 <td>@battleback_sprite (0)</td>

 <td>战斗背景</td>

    </tr>
  </tbody>
</table>



<h6></h6>


</body>
</html>
