<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>リテラル</title>
<link href="../style.css" type="text/css" rel="stylesheet">
</head>
<body>

<h1>リテラル</h1>
<ul>
<li><a href="#L000240">数値リテラル</a></li>
<li><a href="#L000254">文字列リテラル</a>
<ul>
<li><a href="#L000255">バックスラッシュ記法</a></li>
<li><a href="#L000271">式展開</a></li>
</ul></li>
<li><a href="#L000274">正規表現リテラル</a></li>
<li><a href="#L000279">配列式</a></li>
<li><a href="#L000280">ハッシュ式</a></li>
<li><a href="#L000281">範囲式</a></li>
<li><a href="#L000282">シンボル</a></li>
</ul>
<p>数字の 1 や文字列 &quot;hello world&quot; のように Ruby のプログラムの中に
直接記述できる値の事をリテラルといいます。</p>

<h2><a name="L000240">数値リテラル</a></h2>
<dl>
<dt>123</dt>
<dt>0d123</dt>
<dd>
<p>整数</p>
</dd>
<dt>-123</dt>
<dd>
<p>符号つき整数</p>
</dd>
<dt>123.45</dt>
<dd>
<p>浮動小数点数</p>
<p>.1 など '.' で始まる浮動小数点数は許されません。0.1 と書く必要が
あります。</p>
</dd>
<dt>1.2e-3</dt>
<dd>
<p>浮動小数点数</p>
</dd>
<dt>0xffff</dt>
<dd>
<p>16 進整数</p>
</dd>
<dt>0b1011</dt>
<dd>
<p>2 進整数</p>
</dd>
<dt>0377</dt>
<dt>0o377</dt>
<dd>
<p>8 進整数</p>
</dd>
</dl>
<p>数値リテラルには、'_' を含めることができます。
ruby インタプリタは '_' を単に無視し、特別な解釈は何もしません。
これは、大きな数値の桁数がひと目でわかるように記述するのに便利です。
ただし、リテラルの最初と最後に '_' を書いたり、'_' を連続して書いたり
するとエラーになります。</p>
<pre>
1_000_000_000   # =&gt; 1000000000
0xffff_ffff     # =&gt; 0xffffffff
</pre>

<h2><a name="L000254">文字列リテラル</a></h2>
<p>例:</p>
<pre>
&quot;this is a string expression\n&quot;
'this is a string expression'
</pre>
<p>ダブルクォートまたはシングルクォートで囲まれた文字列は
<a href="sc_string.html">String</a> クラスのインスタンスです。</p>
<p>ダブルクォートで囲まれた文字列では<a href="#L000255">バックスラッシュ
記法</a>と<a href="#L000271">式展開</a>が有効になります。
シングルクォートで囲まれた文字列では、\\ (バックスラッシュ
そのもの) と \' (シングルクォート) を除いて文字列の中身の解釈は
行われません。</p>
<p>空白を間に挟んだ文字列リテラルは 1 つの文字列リテラルとみなされます。</p>
<pre>
p &quot;foo&quot; &quot;bar&quot;   # =&gt; &quot;foobar&quot;
</pre>
<h3><a name="L000255">バックスラッシュ記法</a></h3>
<p>バックスラッシュ \ は日本語フォントの円記号 &yen; と同じものです。</p>
<dl>
<dt>\t</dt>
<dd>
<p>タブ (0x09)</p>
</dd>
<dt>\n</dt>
<dd>
<p>改行 (0x0a)</p>
</dd>
<dt>\r</dt>
<dd>
<p>キャリッジリターン (0x0d)</p>
</dd>
<dt>\f</dt>
<dd>
<p>改ページ (0x0c)</p>
</dd>
<dt>\b</dt>
<dd>
<p>バックスペース (0x08)</p>
</dd>
<dt>\a</dt>
<dd>
<p>ベル (0x07)</p>
</dd>
<dt>\e</dt>
<dd>
<p>エスケープ (0x1b)</p>
</dd>
<dt>\s</dt>
<dd>
<p>空白 (0x20)</p>
</dd>
<dt>\nnn</dt>
<dd>
<p>8 進数表記 (n は 0-7)</p>
</dd>
<dt>\xnn</dt>
<dd>
<p>16 進数表記 (n は 0-9,a-f)</p>
</dd>
</dl>
<h3><a name="L000271">式展開</a></h3>
<p>ダブルクォート (&quot;) で囲まれた文字列、および正規表現の中では
#{式} という形式で式の内容 (を文字列化したもの) を埋め込むことができます。
式が変数記号 ($,@) で始まる変数の場合には {} を省略して、#変数名 という
形式でも展開できます。文字 # に続く文字が {,$,@ でなければ、そのまま
文字 # として解釈されます。明示的に式展開を止めるには # の前にバック
スラッシュを置きます。</p>
<pre>
$ruby = &quot;RUBY&quot;
p &quot;my name is #{$ruby}&quot;     # =&gt; &quot;my name is RUBY&quot;
p 'my name is #{$ruby}'     # =&gt; &quot;my name is #{$ruby}&quot;
</pre>

<h2><a name="L000274">正規表現リテラル</a></h2>
<p>例:</p>
<pre>
/^Ruby the OOPL/
/Ruby/i
/my name is #{myname}/
</pre>
<p>/ で囲まれた文字列は正規表現です。
正規表現は <a href="sc_regexp.html">Regexp</a> クラスのインスタンスです。</p>
<p>正規表現として解釈されるメタ文字について
は<a href="appendix01.html">正規表現</a>を参照してください。</p>
<p>終わりの / の直後の文字は正規表現に対するオプションになります。
オプションの機能は以下の通りです。</p>
<dl>
<dt>i</dt>
<dd>
<p>正規表現はマッチ時に大文字小文字の区別を行わない。</p>
</dd>
<dt>m</dt>
<dd>
<p>複数行モード。正規表現 '.' が改行にもマッチするようになる。</p>
</dd>
</dl>
<p>Ruby は正規表現中のマルチバイト文字 (漢字など) を正しく扱います。</p>
<p>正規表現の中では文字列と同じ<a href="#L000255">バックスラッシュ
記法</a>や<a href="#L000271">式展開</a>も有効です。</p>
<p>正規表現リテラルはその中に<a href="#L000271">式展開</a>を含まなければ、何度評
価されても同一の正規表現オブジェクトを返します。<a href="#L000271">式展開</a>を
含む場合は評価のたびに (式展開の結果を元に) 正規表現がコンパイルされ
正規表現オブジェクトが生成されます。</p>

<h2><a name="L000279">配列式</a></h2>
<p>例:</p>
<pre>
[1, 2, 3]
</pre>
<p>文法:</p>
<pre>
'[' 式 ',' ... ']'
</pre>
<p>それぞれの式を評価した結果を含む配列を返します。
配列は <a href="sc_array.html">Array</a> クラスのインスタンスです。</p>
<p>配列式は評価されるたびに毎回新しい配列オブジェクトを生成します。</p>

<h2><a name="L000280">ハッシュ式</a></h2>
<p>例:</p>
<pre>
{1=&gt;2, 2=&gt;4, 3=&gt;6}
</pre>
<p>文法:</p>
<pre>
'{' 式 '=&gt;' 式 ',' ... '}'
'{' 式 ',' 式 ',' ... '}'
</pre>
<p>それぞれの式を評価した結果をキーと値とするハッシュオブジェクトを返します。
ハッシュは <a href="sc_hash.html">Hash</a> クラスのインスタンスです。</p>
<p>ハッシュ (連想配列とも呼ぶ) は任意の種類のオブジェクトから任意の種類の
オブジェクトへの関連づけを行うことができます。</p>
<p>ハッシュ式は評価されるたびに毎回新しいハッシュオブジェクトを生成します。</p>

<h2><a name="L000281">範囲式</a></h2>
<p>例:</p>
<pre>
1 .. 20
</pre>
<p>文法:</p>
<pre>
式1 '..' 式2
式1 '...' 式2
</pre>
<p>条件式以外の場所では式 1 から式 2 までの範囲オブジェクトを返しま
す。範囲オブジェクトは <a href="sc_range.html">Range</a> クラス
のインスタンスです。</p>
<p>.. 演算子によって生成された範囲オブジェクトは終端を含み、... 演算子に
よって生成された範囲オブジェクトは終端を含みません。</p>
<p>範囲式はその両端が数値リテラルであれば、何度評価されても同じオブジェク
トを返します。そうでなければ評価されるたびに新しい範囲オブジェクトを生
成します。</p>

<h2><a name="L000282">シンボル</a></h2>
<p>例:</p>
<pre>
:class
:lvar
:method
:$gvar
:@ivar
:+
</pre>
<p>文法:</p>
<pre>
':' 識別子
':' 変数名
':' 演算子
</pre>
<p>任意の文字列と一対一に対応するシンボルを返します。シンボルは
<a href="sc_symbol.html">Symbol</a> クラスのインスタンスです。</p>
<p>シンボルは常に一意のオブジェクトで、何度評価されても同じオブジェクトを
返します。</p>

<h6></h6>
</body>
</html>
